# MeshiyaGirlPlayer
某調和視聴用。

## 再生対象
再生するのは調和場面(`sprite`描画)だけです。紙芝居(`spine`描画)には対応していません。 
<pre>
ch002
├ 1002001_dekoEP_H1.json // 非対応
├ 1002001_dekoEP_H2.json // 再生対象
├ 1002001_dekoEP_H3.json
└ 1002001_dekoEP_N.json
</pre>

## 再生方法
`json`形式の台本ファイルをファイル選択ダイアログから選択して下さい。  
台本フォルダ・静画フォルダ・音声フォルダは次の関係位置にあると想定しています。
<pre>
assets
├ adventure
│    ├ json // 台本フォルダ
│    ├ ...
│    └ sprite
│        ├ face
│        ├ ...
│        └ still // 静画フォルダ
├ ...
├ audiosVoice // 音声フォルダ
└ ...
</pre>

## マウス操作

| 入力  | 機能  |
| --- | --- |
| マウスホイール | 拡大・縮小。 |
| 左ボタン + マウスホイール | 画像送り・戻し |
| 左ボタンドラッグ | 視点移動。ディスプレイ解像度以上に拡大した場合のみ動作。 |
| 中央ボタン | 原寸大表示・視点初期化。 |
| 右ボタン + マウスホイール | 音声送り・戻し。 |
| 右ボタン + 左ボタンクリック | 窓移動。 |

## キー操作

| 入力  | 機能  |
| --- | --- |
| Esc | 終了。 |
| C   | 文字色黒・白切り替え。 |
| S   | 平滑化有効・無効切り替え。 |
| T   | 文章表示・非表示切り替え。 |
| Left | 音量下げ。 |
| Right | 音量上げ。 |

平滑化処理は相性が悪い場合があるので既定では無効にしてあります。  

## 使用ライブラリ

- [JSON for Modern C++ v3.11.3](https://github.com/nlohmann/json/releases/tag/v3.11.3)
- [SFML 2.6.1](https://www.sfml-dev.org/download/sfml/2.6.1/)

## 未調整項目

- 描画レイヤー制御
  - 重ね書き・上書き・消去指定がよく分かっていません。
 
## 補足説明
- 音声・テキスト対応
  - 1つの音声ファイルに対して文章が前後に分かれている場合がありますが、後半の文章に表示が切り替わるのは音声再生終了時になっております。
- 番号振り
  - 1シーンが長いので文章・画像に番号を振ってあります。
